<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parent Engagement - School Pass</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <!-- Header Include -->
    <div data-include="header.html"></div>

    <!-- Main Content -->
    <main id="mainContent">
        <div class="container">
            <div class="page-header">
                <div>
                    <h1 class="page-title">Parent Engagement Management</h1>
                    <p class="page-description">Manage announcements, messages, and strengthen parent-school communication</p>
                </div>
            </div>

            <!-- Stats Overview -->
            <div class="stats-grid">
                <div class="stats-card success">
                    <div class="stats-content">
                        <h3 class="stats-value">450</h3>
                        <p class="stats-title">Total Parents</p>
                    </div>
                </div>

                <div class="stats-card accent">
                    <div class="stats-content">
                        <h3 class="stats-value">327</h3>
                        <p class="stats-title">Active Parents</p>
                    </div>
                </div>

                <div class="stats-card default">
                    <div class="stats-content">
                        <h3 class="stats-value">89</h3>
                        <p class="stats-title">Messages This Month</p>
                    </div>
                </div>

                <div class="stats-card warning">
                    <div class="stats-content">
                        <h3 class="stats-value">12</h3>
                        <p class="stats-title">Announcements Published</p>
                    </div>
                </div>

                <div class="stats-card success">
                    <div class="stats-content">
                        <h3 class="stats-value">73%</h3>
                        <p class="stats-title">Response Rate</p>
                    </div>
                </div>

                <div class="stats-card default">
                    <div class="stats-content">
                        <h3 class="stats-value">4.2</h3>
                        <p class="stats-title">Satisfaction Score</p>
                    </div>
                </div>
            </div>

            <!-- Tabs Navigation -->
            <div class="tabs-container">
                <div class="tabs-nav">
                    <button class="tab-btn active" data-tab="announcements">
                        <i data-lucide="megaphone"></i>
                        Announcements
                    </button>
                    <button class="tab-btn" data-tab="messages">
                        <i data-lucide="message-square"></i>
                        Parent Messages
                    </button>
                    <button class="tab-btn" data-tab="engagement">
                        <i data-lucide="users"></i>
                        Engagement Analytics
                    </button>
                </div>

                <!-- Announcements Tab -->
                <div class="tab-content active" id="announcements-tab">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-header-content">
                                <div class="search-filters">
                                    <div class="search-box">
                                        <input type="text" id="announcement-search" placeholder="Search announcements...">
                                    </div>
                                    <select class="form-input" id="priority-filter">
                                        <option value="all">All Priorities</option>
                                        <option value="high">High Priority</option>
                                        <option value="medium">Medium Priority</option>
                                        <option value="low">Low Priority</option>
                                    </select>
                                </div>
                                <button class="btn btn-primary" id="new-parent-announcement-btn">
                                    <i data-lucide="plus"></i>
                                    New Announcement
                                </button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="announcements-grid" id="parent-announcements-list">
                                <!-- Parent announcements will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Messages Tab -->
                <div class="tab-content" id="messages-tab">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-header-content">
                                <div class="search-box">
                                    <input type="text" id="message-search" placeholder="Search messages...">
                                </div>
                                <button class="btn btn-primary" id="send-message-btn">
                                    <i data-lucide="send"></i>
                                    Send Message
                                </button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Parent</th>
                                            <th>Student</th>
                                            <th>Subject</th>
                                            <th>Date</th>
                                            <th>Status</th>
                                            <th>Priority</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="parent-messages-table">
                                        <!-- Parent messages will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Engagement Analytics Tab -->
                <div class="tab-content" id="engagement-tab">
                    <div class="analytics-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Communication Trends</h3>
                                <p class="card-description">Message and announcement analytics over time</p>
                            </div>
                            <div class="card-content">
                                <div class="stats-list">
                                    <div class="stat-item">
                                        <span>Messages Sent</span>
                                        <span class="stat-value">89 this month</span>
                                    </div>
                                    <div class="stat-item">
                                        <span>Response Rate</span>
                                        <span class="stat-value text-success">73%</span>
                                    </div>
                                    <div class="stat-item">
                                        <span>Average Response Time</span>
                                        <span class="stat-value">2.3 hours</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Parent Engagement Levels</h3>
                                <p class="card-description">Active vs inactive parent participation</p>
                            </div>
                            <div class="card-content">
                                <div class="stats-list">
                                    <div class="stat-item">
                                        <span>Highly Engaged</span>
                                        <span class="stat-value text-success">156 parents</span>
                                    </div>
                                    <div class="stat-item">
                                        <span>Moderately Engaged</span>
                                        <span class="stat-value text-warning">171 parents</span>
                                    </div>
                                    <div class="stat-item">
                                        <span>Low Engagement</span>
                                        <span class="stat-value text-destructive">123 parents</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card full-width">
                            <div class="card-header">
                                <h3 class="card-title">Recent Engagement Activity</h3>
                                <p class="card-description">Latest parent interactions and feedback</p>
                            </div>
                            <div class="card-content">
                                <div class="activity-feed" id="engagement-activity">
                                    <!-- Activity feed will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <p>Powered by <a href="https://veritas.com" target="_blank" class="veritas-link">Veritas</a></p>
        </div>
    </footer>

    <!-- Modals -->
    <div class="modal" id="new-parent-announcement-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Create New Announcement</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="parent-announcement-title">Title</label>
                    <input type="text" id="parent-announcement-title" class="form-input" placeholder="Enter announcement title">
                </div>
                <div class="form-group">
                    <label for="parent-announcement-content">Content</label>
                    <textarea id="parent-announcement-content" class="form-input" placeholder="Write your announcement here..." rows="6"></textarea>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="parent-announcement-priority">Priority</label>
                        <select id="parent-announcement-priority" class="form-input">
                            <option value="high">High Priority</option>
                            <option value="medium">Medium Priority</option>
                            <option value="low">Low Priority</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="parent-announcement-audience">Target Audience</label>
                        <select id="parent-announcement-audience" class="form-input">
                            <option value="all">All Parents</option>
                            <option value="class-specific">Specific Class</option>
                            <option value="fee-defaulters">Fee Defaulters</option>
                            <option value="new-parents">New Parents</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-outline" id="save-draft-btn">
                        Save as Draft
                    </button>
                    <button class="btn btn-primary" id="publish-parent-announcement">
                        Publish Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="send-message-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Send Message to Parent</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="message-recipient">Recipient</label>
                    <select id="message-recipient" class="form-input">
                        <option value="">Select parent or class</option>
                        <option value="individual">Individual Parent</option>
                        <option value="class">Entire Class</option>
                        <option value="multiple">Multiple Parents</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="message-subject">Subject</label>
                    <input type="text" id="message-subject" class="form-input" placeholder="Enter message subject">
                </div>
                <div class="form-group">
                    <label for="message-content">Message</label>
                    <textarea id="message-content" class="form-input" placeholder="Write your message here..." rows="6"></textarea>
                </div>
                <div class="form-actions">
                    <button class="btn btn-outline" id="save-message-draft">
                        Save Draft
                    </button>
                    <button class="btn btn-primary" id="send-parent-message">
                        Send Message
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="message-detail-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Message Details</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="message-detail-content">
                    <!-- Message details will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="include.js"></script>
    <script src="parent_engagement.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });
    </script>
</body>
</html>